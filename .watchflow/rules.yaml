rules:

  # - description: Prevent force pushes to protected branches
  #   enabled: true
  #   severity: "high"
  #   event_types: ["push"]
  #   parameters:
  #     allow_force_push: false
  #     protected_branches: [main, development, force-demo]
  #     detect_non_ff: false
  #     message: "Force pushes are not allowed to protected branches"

  - description: Limit number of commits per push
    enabled: true
    severity: medium
    event_types: [push]
    parameters:
      max_commits: 1
      message: "Too many commits in a single push
    
  - description: Prevent force pushes to protected branches
    enabled: true
    severity: "high"
    event_types: ["push"]
    parameters:
      allow_force_push: false
      protected_branches: [main, development, force-demo]
      detect_non_ff: false
      message: "Force pushes are not allowed to protected branches"
      
  - description: "Pull requests must have descriptive titles following conventional commit format"
    enabled: true
    severity: "medium"
    event_types: ["pull_request"]
    parameters:
      title_pattern: "^feat|^fix|^docs|^style|^refactor|^test|^chore|^perf|^ci|^build|^revert"

  - description: "New contributors require approval from at least one past contributor"
    enabled: true
    severity: "medium"
    event_types: ["pull_request"]
    parameters:
      min_past_contributors: 1

  - description: "Code changes must include corresponding tests"
    enabled: true
    severity: "medium"
    event_types: ["pull_request"]
    parameters:
      pattern: "tests/.*\\.py$|test_.*\\.py$"
      condition_type: "files_match_pattern"

  - description: "Changes to critical files require review from code owners"
    enabled: true
    severity: "high"
    event_types: ["pull_request"]

  # - description: "No direct pushes to main branch - all changes must go through PRs"
  #   enabled: true
  #   severity: "critical"
  #   event_types: ["push"]
  #   parameters:
  #     allow_force_push: false
